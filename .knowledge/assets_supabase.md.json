{"is_source_file": true, "format": "Markdown", "description": "This file appears to be a Markdown documentation file describing the architecture, configuration, database schema, security policies, and operational modes of the RoadRescue QuickAssist platform's backend and React frontend applications that interact with a Supabase backend.", "external_files": ["auth.jwt()", "auth.users", "supabase", "Supabase dashboard", "PostgreSQL functions and triggers"], "external_methods": ["public.current_role()", "public.is_admin()", "public.is_mechanic()", "public.is_mechanic_approved()", "public.set_updated_at()", "public.requests_status_lifecycle()"], "published": ["profiles", "mechanic_profiles", "requests", "request_notes"], "classes": [], "methods": [{"name": "public.current_role()", "description": "Returns the current user's role based on JWT app_metadata, defaults to 'user'."}, {"name": "public.is_admin()", "description": "Checks if the current user's role is 'admin'."}, {"name": "public.is_mechanic()", "description": "Checks if the current user's role is 'mechanic'."}, {"name": "public.is_mechanic_approved(uid uuid)", "description": "Verifies if a mechanic user with given UID is approved and has role 'mechanic'."}, {"name": "public.set_updated_at()", "description": "Trigger function to automatically update the 'updated_at' timestamp on row modification."}, {"name": "public.requests_status_lifecycle()", "description": "Trigger function to manage timestamps during request status changes (accepted, arrived, completed, cancelled)."}], "calls": ["public.current_role()", "public.is_admin()", "public.is_mechanic()", "public.is_mechanic_approved()"], "search-terms": ["Supabase", "PostgreSQL schema", "RLS policies", "Requests system", "Mechanic approval", "Auth roles", "Triggers", "Environment variables", "Request notes", "Backend configuration"], "state": 2, "file_id": 93, "knowledge_revision": 391, "git_revision": "0b3454c020402a76cfe02b9cf100b14d5fa04135", "revision_history": [{"366": "7f89aabd1647f218744f20152fa1a8ca9f3b0e02"}, {"389": "7f89aabd1647f218744f20152fa1a8ca9f3b0e02"}, {"390": "0b3454c020402a76cfe02b9cf100b14d5fa04135"}, {"391": "0b3454c020402a76cfe02b9cf100b14d5fa04135"}], "hash": "4990896a55860e0d3bb6a4dc0f67d33d", "format-version": 4, "code-base-name": "frontend_user_website", "filename": "assets/supabase.md"}