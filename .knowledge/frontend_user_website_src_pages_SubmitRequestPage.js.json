{"is_source_file": true, "format": "JavaScript", "description": "This file defines a React component 'SubmitRequestPage' that provides a user interface for submitting a vehicle breakdown request. It includes form inputs for vehicle details, issue description, contact info, and location (address search with geocoding and GPS). The component handles address geocoding using OpenStreetMap Nominatim, browser geolocation, clipboard copy, and integrates map display. It also manages state, validation, and request submission via a data service.", "external_files": ["../components/ui/Card", "../components/ui/Input", "../components/ui/Button", "../components/MapView", "../services/dataService", "react", "react-router-dom"], "external_methods": ["useNavigate", "fetch", "navigator.geolocation.getCurrentPosition", "navigator.permissions.query", "navigator.clipboard.writeText", "document.createElement", "document.execCommand"], "published": ["SubmitRequestPage"], "classes": [], "methods": [{"name": "geocodeAddressNominatim(address, { signal } = {})", "description": "Performs geocoding of an address string using OpenStreetMap Nominatim API.", "scope": "", "scopeKind": ""}, {"name": "isSecureEnoughForBrowserAPIs()", "description": "Checks if the current page context is secure enough (HTTPS or localhost) for browser APIs like geolocation and clipboard.", "scope": "", "scopeKind": ""}, {"name": "queryGeoPermissionState()", "description": "Checks the permission state for browser geolocation API.", "scope": "", "scopeKind": ""}, {"name": "geolocationErrorToMessage(err)", "description": "Converts browser geolocation error objects into user-friendly messages.", "scope": "", "scopeKind": ""}, {"name": "tryClipboardWriteText(text)", "description": "Attempts to write text to the clipboard asynchronously.", "scope": "", "scopeKind": ""}, {"name": "execCommandCopyFallback(text)", "description": "Fallback method to copy text to clipboard using legacy document.execCommand.", "scope": "", "scopeKind": ""}, {"name": "SubmitRequestPage({ user })", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["useNavigate", "fetch", "navigator.permissions.query", "navigator.geolocation.getCurrentPosition", "navigator.clipboard.writeText", "document.createElement", "document.execCommand"], "search-terms": ["SubmitRequestPage", "geocodeAddressNominatim", "MapView", "OpenStreetMap Nominatim", "geolocation", "browser APIs", "location permission", "GPS fallback", "Submit vehicle breakdown", "React form handling"], "state": 2, "file_id": 56, "knowledge_revision": 225, "git_revision": "e618b20b8a6a0dbc35b96314d6d18628cce2252b", "revision_history": [{"193": "d7094c8bb3d5eeb9c23cb2ddab9b21d37ee8dfc5"}, {"213": "d7094c8bb3d5eeb9c23cb2ddab9b21d37ee8dfc5"}, {"220": "f7b1b2a9a51bfe9a78dcb007e190780d35341a9f"}, {"221": "e87beb2dbe48b36599b32c0b7f91ca7bd891c598"}, {"223": "d74aaea446b172765624348320249ccc289c411c"}, {"225": "e618b20b8a6a0dbc35b96314d6d18628cce2252b"}], "ctags": [{"_type": "tag", "name": "4", "path": "/home/kavia/workspace/code-generation/roadrescue-quickassist-platform-41193-41202/frontend_user_website/src/pages/SubmitRequestPage.js", "pattern": "/^              rows={4}$/", "language": "JavaScript", "kind": "field", "scope": "rows", "scopeKind": "class"}, {"_type": "tag", "name": "CHENNAI", "path": "/home/kavia/workspace/code-generation/roadrescue-quickassist-platform-41193-41202/frontend_user_website/src/pages/SubmitRequestPage.js", "pattern": "/^const CHENNAI = { lat: 13.0827, lng: 80.2707 };$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "SubmitRequestPage", "path": "/home/kavia/workspace/code-generation/roadrescue-quickassist-platform-41193-41202/frontend_user_website/src/pages/SubmitRequestPage.js", "pattern": "/^export function SubmitRequestPage({ user }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ user })"}, {"_type": "tag", "name": "addressInput", "path": "/home/kavia/workspace/code-generation/roadrescue-quickassist-platform-41193-41202/frontend_user_website/src/pages/SubmitRequestPage.js", "pattern": "/^                  value={addressInput}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "contact", "path": "/home/kavia/workspace/code-generation/roadrescue-quickassist-platform-41193-41202/frontend_user_website/src/pages/SubmitRequestPage.js", "pattern": "/^              value={contact.name}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "contact", "path": "/home/kavia/workspace/code-generation/roadrescue-quickassist-platform-41193-41202/frontend_user_website/src/pages/SubmitRequestPage.js", "pattern": "/^              value={contact.phone}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "execCommandCopyFallback", "path": "/home/kavia/workspace/code-generation/roadrescue-quickassist-platform-41193-41202/frontend_user_website/src/pages/SubmitRequestPage.js", "pattern": "/^function execCommandCopyFallback(text) {$/", "language": "JavaScript", "kind": "function", "signature": "(text)"}, {"_type": "tag", "name": "geoBusy", "path": "/home/kavia/workspace/code-generation/roadrescue-quickassist-platform-41193-41202/frontend_user_website/src/pages/SubmitRequestPage.js", "pattern": "/^                  disabled={geoBusy || busy}$/", "language": "JavaScript", "kind": "field", "scope": "required", "scopeKind": "class"}, {"_type": "tag", "name": "geocodeAddressNominatim", "path": "/home/kavia/workspace/code-generation/roadrescue-quickassist-platform-41193-41202/frontend_user_website/src/pages/SubmitRequestPage.js", "pattern": "/^async function geocodeAddressNominatim(address, { signal } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(address, { signal } = {})"}, {"_type": "tag", "name": "geolocationErrorToMessage", "path": "/home/kavia/workspace/code-generation/roadrescue-quickassist-platform-41193-41202/frontend_user_website/src/pages/SubmitRequestPage.js", "pattern": "/^function geolocationErrorToMessage(err) {$/", "language": "JavaScript", "kind": "function", "signature": "(err)"}, {"_type": "tag", "name": "isSecureEnoughForBrowserAPIs", "path": "/home/kavia/workspace/code-generation/roadrescue-quickassist-platform-41193-41202/frontend_user_website/src/pages/SubmitRequestPage.js", "pattern": "/^function isSecureEnoughForBrowserAPIs() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "issueDescription", "path": "/home/kavia/workspace/code-generation/roadrescue-quickassist-platform-41193-41202/frontend_user_website/src/pages/SubmitRequestPage.js", "pattern": "/^              value={issueDescription}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "lat", "path": "/home/kavia/workspace/code-generation/roadrescue-quickassist-platform-41193-41202/frontend_user_website/src/pages/SubmitRequestPage.js", "pattern": "/^const CHENNAI = { lat: 13.0827, lng: 80.2707 };$/", "language": "JavaScript", "kind": "property", "scope": "CHENNAI", "scopeKind": "class"}, {"_type": "tag", "name": "lng", "path": "/home/kavia/workspace/code-generation/roadrescue-quickassist-platform-41193-41202/frontend_user_website/src/pages/SubmitRequestPage.js", "pattern": "/^const CHENNAI = { lat: 13.0827, lng: 80.2707 };$/", "language": "JavaScript", "kind": "property", "scope": "CHENNAI", "scopeKind": "class"}, {"_type": "tag", "name": "mapLat", "path": "/home/kavia/workspace/code-generation/roadrescue-quickassist-platform-41193-41202/frontend_user_website/src/pages/SubmitRequestPage.js", "pattern": "/^          <MapView lat={mapLat} lng={mapLng} address={selectedAddress} \\/>$/", "language": "JavaScript", "kind": "field", "scope": "required", "scopeKind": "class"}, {"_type": "tag", "name": "queryGeoPermissionState", "path": "/home/kavia/workspace/code-generation/roadrescue-quickassist-platform-41193-41202/frontend_user_website/src/pages/SubmitRequestPage.js", "pattern": "/^async function queryGeoPermissionState() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "trim() ? \"input-error\" : \"\"}", "path": "/home/kavia/workspace/code-generation/roadrescue-quickassist-platform-41193-41202/frontend_user_website/src/pages/SubmitRequestPage.js", "pattern": "/^              className={`textarea ${error && !issueDescription.trim() ? \"input-error\" : \"\"}`}$/", "language": "JavaScript", "kind": "field", "scope": "className.textarea ${error && !issueDescription", "scopeKind": "class"}, {"_type": "tag", "name": "tryClipboardWriteText", "path": "/home/kavia/workspace/code-generation/roadrescue-quickassist-platform-41193-41202/frontend_user_website/src/pages/SubmitRequestPage.js", "pattern": "/^async function tryClipboardWriteText(text) {$/", "language": "JavaScript", "kind": "function", "signature": "(text)"}, {"_type": "tag", "name": "useMyLocation", "path": "/home/kavia/workspace/code-generation/roadrescue-quickassist-platform-41193-41202/frontend_user_website/src/pages/SubmitRequestPage.js", "pattern": "/^                    onClick={useMyLocation}$/", "language": "JavaScript", "kind": "field", "scope": "onClick", "scopeKind": "class"}, {"_type": "tag", "name": "vehicle", "path": "/home/kavia/workspace/code-generation/roadrescue-quickassist-platform-41193-41202/frontend_user_website/src/pages/SubmitRequestPage.js", "pattern": "/^              value={vehicle.make}$/", "language": "JavaScript", "kind": "field", "scope": "SubmitRequestPage.value", "scopeKind": "class"}, {"_type": "tag", "name": "vehicle", "path": "/home/kavia/workspace/code-generation/roadrescue-quickassist-platform-41193-41202/frontend_user_website/src/pages/SubmitRequestPage.js", "pattern": "/^              value={vehicle.model}$/", "language": "JavaScript", "kind": "field", "scope": "SubmitRequestPage.value", "scopeKind": "class"}, {"_type": "tag", "name": "vehicle", "path": "/home/kavia/workspace/code-generation/roadrescue-quickassist-platform-41193-41202/frontend_user_website/src/pages/SubmitRequestPage.js", "pattern": "/^              value={vehicle.plate}$/", "language": "JavaScript", "kind": "field", "scope": "SubmitRequestPage.value", "scopeKind": "class"}, {"_type": "tag", "name": "vehicle", "path": "/home/kavia/workspace/code-generation/roadrescue-quickassist-platform-41193-41202/frontend_user_website/src/pages/SubmitRequestPage.js", "pattern": "/^              value={vehicle.year}$/", "language": "JavaScript", "kind": "field", "scope": "SubmitRequestPage.value", "scopeKind": "class"}], "hash": "0eb27936979299975075e0669b66525d", "format-version": 4, "code-base-name": "frontend_user_website", "filename": "frontend_user_website/src/pages/SubmitRequestPage.js", "fields": [{"name": "rows={4}", "scope": "rows", "scopeKind": "class", "description": "unavailable"}, {"name": "value={addressInput}", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "value={contact.name}", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "value={contact.phone}", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "disabled={geoBusy || busy}", "scope": "required", "scopeKind": "class", "description": "unavailable"}, {"name": "value={issueDescription}", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "const CHENNAI = { lat: 13.0827, lng: 80.2707 };", "scope": "CHENNAI", "scopeKind": "class", "description": "unavailable"}, {"name": "<MapView lat={mapLat} lng={mapLng} address={selectedAddress} \\/>", "scope": "required", "scopeKind": "class", "description": "unavailable"}, {"name": "className={`textarea ${error && !issueDescription.trim() ? \"input-error\" : \"\"}`}", "scope": "className.textarea ${error && !issueDescription", "scopeKind": "class", "description": "unavailable"}, {"name": "onClick={useMyLocation}", "scope": "onClick", "scopeKind": "class", "description": "unavailable"}, {"name": "value={vehicle.make}", "scope": "SubmitRequestPage.value", "scopeKind": "class", "description": "unavailable"}, {"name": "value={vehicle.model}", "scope": "SubmitRequestPage.value", "scopeKind": "class", "description": "unavailable"}, {"name": "value={vehicle.plate}", "scope": "SubmitRequestPage.value", "scopeKind": "class", "description": "unavailable"}, {"name": "value={vehicle.year}", "scope": "SubmitRequestPage.value", "scopeKind": "class", "description": "unavailable"}]}