{"is_source_file": true, "format": "JavaScript", "description": "This file provides a data service abstraction for a vehicle roadside assistance platform, supporting both localStorage mock mode and integration with Supabase backend. It includes functions for user registration, login, session management, and request handling, with detailed field normalization and environment configuration logic.", "external_files": ["@supabase/supabase-js"], "external_methods": ["createClient"], "published": ["dataService"], "classes": [], "methods": [{"name": "register", "description": "Registers a new user, either via Supabase auth or local mock, and initializes seed data if not already seeded."}, {"name": "login", "description": "Authenticates a user via Supabase or local mock and sets session."}, {"name": "logout", "description": "Logs out the current user, clearing session data."}, {"name": "getCurrentUser", "description": "Retrieves the current authenticated user information from Supabase or local mock."}, {"name": "listRequests", "description": "Fetches list of requests, normalizing vehicle and contact data, supporting both Supabase and local mock."}, {"name": "getRequestById", "description": "Retrieves a specific request by its ID."}, {"name": "createRequest", "description": "Creates a new request, normalizing fields, and inserting into Supabase or local storage."}, {"name": "isSupabaseConfigured", "description": "Checks if Supabase environment variables are set, indicating backend availability."}], "calls": ["createClient", "supabase.auth.signUp", "supabase.auth.signInWithPassword", "supabase.auth.getUser", "supabase.auth.signOut", "supabase.from", "supabase.from().select", "supabase.from().insert", "supaGetUserRole"], "search-terms": ["dataService", "localStorage mock", "Supabase integration", "request handling", "vehicle normalization", "request creation", "user authentication", "seed data"], "state": 2, "file_id": 21, "knowledge_revision": 134, "git_revision": "3025b3e4a5b188b27382691bd8c47200eeb5cf56", "revision_history": [{"56": "d7094c8bb3d5eeb9c23cb2ddab9b21d37ee8dfc5"}, {"65": "d7094c8bb3d5eeb9c23cb2ddab9b21d37ee8dfc5"}, {"67": "7f89aabd1647f218744f20152fa1a8ca9f3b0e02"}, {"68": "52c32bc519b2a02236b96afbc7b17488133b0e0c"}, {"69": "fd06cc1e0e81ac367b9c95939d3ab02156cb8e40"}, {"70": "a8050c27e0e7fa1f235999744d4055c3cc1e53ad"}, {"71": "284e59358631bdfe3ffc551cb7f4d38b58c639c0"}, {"74": "b347b1c602d95433be7d3482d819d5b0494f8cd6"}, {"94": "3025b3e4a5b188b27382691bd8c47200eeb5cf56"}, {"134": "3025b3e4a5b188b27382691bd8c47200eeb5cf56"}], "ctags": [], "filename": "frontend_user_website/src/services/dataService.js", "format-version": 4, "code-base-name": "https://github.com/kavia-common/roadrescue-quickassist-platform-41193-41202.git:kavia-main"}